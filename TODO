Add README file.

Refactor error reporting.

Make duplicate detection code non/less magical.

